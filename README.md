# AI Психолог

Онлайн-платформа для анонимного общения с искусственным интеллектом в роли эмпатичного психолога.

## Описание

"AI Психолог" предоставляет пользователям возможность:

-   Вести диалог с ИИ-психологом в режиме реального времени через интерфейс, похожий на популярные мессенджеры.
-   Анализировать свои рисунки на эмоциональное состояние с помощью ИИ (OpenAI Vision API).
-   Управлять аккаунтом (регистрация, логин, восстановление пароля).
-   Использовать систему тарификации (бесплатная пробная сессия, затем оплата по тарифам) с интеграцией ЮKassa.
-   Просматривать историю чатов и анализов.

## Основные функции

-   **ИИ-Чат**: Общение с ИИ-психологом в реальном времени. Возможность задавать тему чата. История диалогов.
-   **Анализ эмоций**: Загрузка рисунков и получение анализа эмоционального состояния.
-   **Система тарификации**: Бесплатная пробная сессия, затем оплата по тарифам (минуты, сообщения, подписка). Интеграция с ЮKassa.
-   **Управление аккаунтом**: Регистрация, авторизация, восстановление пароля, редактирование профиля.
-   **Администрирование**: Панель администратора Django для управления всеми аспектами проекта.
-   **Аналитика**: Страница с отображением ключевых метрик проекта.

## Технологии

-   **Backend**: Python 3.10+, Django 5.2
-   **Frontend**: HTML5, CSS3 (Bootstrap 5), JavaScript (Vanilla JS)
-   **База данных**: SQLite (для разработки), рекомендуется PostgreSQL для production
-   **Асинхронность**: Django Channels, Daphne (ASGI сервер)
-   **API ИИ**: OpenAI API (GPT, Vision)
-   **Платежи**: ЮKassa API
-   **Аутентификация**: Собственная модель пользователя (email/password)
-   **Деплой**: Debian 12, NGINX, Daphne, Systemd

## Установка и запуск (для разработки)

1.  **Клонирование репозитория:**
    ```bash
    git clone <URL_репозитория>
    cd AI_Psychologist
    ```
2.  **Создание виртуального окружения:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # На Windows: venv\Scripts\activate
    ```
3.  **Установка зависимостей:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **Настройка переменных окружения:**
    *   Создайте файл `.env` в корне проекта.
    *   Заполните его необходимыми переменными (см. пример ниже).
5.  **Применение миграций:**
    ```bash
    python manage.py migrate
    ```
6.  **Создание суперпользователя:**
    ```bash
    python manage.py createsuperuser
    ```
7.  **Сбор статических файлов:**
    ```bash
    python manage.py collectstatic
    ```
8.  **Запуск сервера разработки:**
    ```bash
    daphne -p 8000 AI_Psychologist.asgi:application
    ```
    Или для использования встроенных возможностей Django Channels:
    ```bash
    python manage.py runserver
    ```
    *(Примечание: `runserver` в Django 5.2+ поддерживает ASGI, но `daphne` является рекомендуемым продакшн-сервером)*

## Конфигурация (.env)

Создайте файл `.env` в корне проекта и заполните его:

```env
SECRET_KEY=ваш_секретный_ключ_django
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com,www.your-domain.com

OPENAI_API_KEY=ваш_ключ_openai_api
YOO_KASSA_SHOP_ID=ваш_shop_id_юkassa
YOO_KASSA_SECRET_KEY=ваш_секретный_ключ_юkassa

# Email настройки (пример для Mail.ru)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.mail.ru
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=ваш_email@mail.ru
EMAIL_HOST_PASSWORD=ваш_пароль_приложения
DEFAULT_FROM_EMAIL=ваш_email@mail.ru
